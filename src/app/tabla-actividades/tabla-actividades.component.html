<table mat-table [dataSource]="datos" class="mat-elevation-z8" #tabla1>

    <ng-container matColumnDef="Titulo">
      <th mat-header-cell *matHeaderCellDef> Título </th>
      <td mat-cell *matCellDef="let dato"> {{dato.titulo}} </td>
    </ng-container>
  
    <ng-container matColumnDef="Descripción">
      <th mat-header-cell *matHeaderCellDef> Descripción </th>
      <td mat-cell *matCellDef="let dato"> {{dato.descripcion}} </td>
    </ng-container>
  
    <ng-container matColumnDef="Estado">
      <th mat-header-cell *matHeaderCellDef> Estado </th>
      <td mat-cell *matCellDef="let dato"> {{dato.estado}} </td>
    </ng-container>

    <ng-container matColumnDef="Fecha vencimiento">
      <th mat-header-cell *matHeaderCellDef> Fecha de vencimiento </th>
      <td mat-cell *matCellDef="let dato"> {{dato.fecha_de_vencimiento}} </td>
    </ng-container>

    <ng-container matColumnDef="prioridad">
        <th mat-header-cell *matHeaderCellDef> Prioridad </th>
        <td mat-cell *matCellDef="let dato"> {{dato.prioridad}} </td>
      </ng-container>

      <ng-container matColumnDef="categoria">
        <th mat-header-cell *matHeaderCellDef> Categoría </th>
        <td mat-cell *matCellDef="let dato"> {{dato.categoria}} </td>
      </ng-container>
  
    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef> Acciones </th>
      <td mat-cell *matCellDef="let dato">
        <button mat-raised-button color="warn" focusable="false"  style="margin: 10px" (click)="onDelete(dato.id)">
          Eliminar
        </button>
        <button mat-raised-button color="primary" focusable="false" (click)="onEdit(dato.id)">
          Editar
        </button>
      </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="columnas"></tr>
    <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
  </table>
  <div class="contenedor">
  
  </div>
  <!-- <div class="container mt-4">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label>Título</label>
        <input formControlName="title" class="form-control" required>
      </div>
  
      <div class="mb-3">
        <label>Descripción</label>
        <textarea formControlName="description" class="form-control"></textarea>
      </div>
  
      <div class="mb-3">
        <label>Estado</label>
        <select formControlName="status" class="form-select">
          <option *ngFor="let estado of estados" [value]="estado">{{ estado }}</option>
        </select>
      </div>
  
      <div class="mb-3">
        <label>Fecha de vencimiento</label>
        <input type="date" formControlName="dueDate" class="form-control">
      </div>
  
      <div class="mb-3 form-check">
        <input type="checkbox" formControlName="priority" class="form-check-input">
        <label class="form-check-label">¿Prioritario?</label>
      </div>
  
      <div class="mb-3">
        <label>Categoría</label>
        <select formControlName="category" class="form-select">
          <option *ngFor="let c of categories" [value]="c">{{ c }}</option>
        </select>
      </div>
  
      <button type="submit" class="btn btn-primary">
        {{ isEditMode ? 'Actualizar' : 'Crear' }} Tarea
      </button>
    </form>
  </div> -->

  <div class="container mt-4" >
    <h4 class="mb-3">Crear nueva tarea</h4>
    <form [formGroup]="form" (ngSubmit)="onSubmit()"  class="row g-3">
  
      <div class="col-md-6">
        <label for="titulo" class="form-label">Título</label>
        <input type="text" id="titulo" formControlName="titulo" class="form-control"  name="title" >
      </div>
  
      <div class="col-md-6">
        <label for="categoria" class="form-label">Categoría</label>
        <select id="categoria" class="form-select" formControlName="categoria"  name="category" required>
          <option value="" disabled selected>Seleccionar</option>
          <option *ngFor="let cat of categorias" [value]="cat">{{ cat }}</option>
        </select>
      </div>
  
      <div class="col-md-12">
        <label for="descripcion" class="form-label">Descripción</label>
        <textarea id="descripcion" formControlName="descripcion" class="form-control"  name="description" rows="2"></textarea>
      </div>
  
      <div class="col-md-4">
        <label for="estado" class="form-label">Estado</label>
        <select id="estado" class="form-select" formControlName="status"  name="status" required>
          <option value="pendiente">Pendiente</option>
          <option value="en progreso">En Progreso</option>
          <option value="completada">Completada</option>
        </select>
      </div>
  
      <div class="col-md-4">
        <label for="fecha" class="form-label">Fecha de vencimiento</label>
        <input type="date" id="fecha" class="form-control" formControlName="fecha_de_vencimiento"  name="dueDate">
      </div>
  
      <div class="col-md-4 d-flex align-items-center">
        <div class="form-check mt-4">
          <input type="checkbox" id="prioridad" class="form-check-input" formControlName="prioridad"  name="priority">
          <label for="prioridad" class="form-check-label">¿Prioritario?</label>
        </div>
      </div>
  
      <div class="col-12">
        <button *ngIf="!tarea" type="submit" class="btn btn-primary">
          Crear Tarea
        </button>
        <button *ngIf="tarea" type="submit" class="btn btn-success w-100">Actualizar Tarea</button>
        <button *ngIf="tarea"  class="btn btn-success w-100 " (click)="resetForm()">cancelar</button>
      </div>
    </form>
  </div>